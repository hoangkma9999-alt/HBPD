<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <title>Happy Birthday Diá»…m Quá»³nh</title>
  <!-- Google Font -->
  <link href="https://fonts.googleapis.com/css2?family=Pacifico&display=swap" rel="stylesheet">
  <style>
    body {
      margin: 0;
      height: 100vh;
      overflow: hidden;
      background: black;
      display: flex;
      justify-content: center;
      align-items: center;
      font-family: 'Pacifico', cursive;
      perspective: 1000px;
    }

    canvas {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: -2;
    }

    .confetti {
      position: absolute;
      width: 10px;
      height: 10px;
      background-color: #ff0;
      opacity: 0.8;
      animation: fall linear infinite;
    }

    @keyframes fall {
      0% { transform: translateY(-10px) rotate(0deg); }
      100% { transform: translateY(100vh) rotate(720deg); }
    }

    .scene {
      position: absolute;
      font-size: 5em;
      color: #fff;
      text-align: center;
      transform-style: preserve-3d;
      opacity: 0;
      text-shadow: 0 0 20px #ff00de, 0 0 40px #00ffe5;
    }

    .message {
      font-size: 2em;
      width: 80%;
      line-height: 1.6;
      color: #f5f5f5;
      text-align: center;
      text-shadow: 0 0 10px #ff0;
    }
  </style>
</head>
<body>
  <canvas id="bg"></canvas>

  <!-- CÃ¡c cáº£nh -->
  <div class="scene" id="scene1">3</div>
  <div class="scene" id="scene2">2</div>
  <div class="scene" id="scene3">1</div>
  <div class="scene" id="scene4">ğŸ‰ Happy ğŸ‰</div>
  <div class="scene" id="scene5">ğŸ‚ Birth Day ğŸ‚</div>
  <div class="scene" id="scene6">ğŸ’– Diá»…m Quá»³nh ğŸ’–</div>
  <div class="scene" id="scene7">ğŸ“… 18-9-2001 ğŸ“…</div>
  <div class="scene message" id="scene8">
    ğŸ ChÃºc em má»™t ngÃ y sinh nháº­t tháº­t vui váº», trÃ n ngáº­p tiáº¿ng cÆ°á»i,<br>
                    háº¡nh phÃºc bÃªn gia Ä‘Ã¬nh vÃ  báº¡n bÃ¨. ğŸ‚<br>
    ChÃºc em luÃ´n xinh Ä‘áº¹p, thÃ nh cÃ´ng, gáº·p nhiá»u may máº¯n vÃ  thÃ nh cÃ´ng â¤ï¸
  </div>

  <!-- Nháº¡c -->
  <audio id="music" autoplay loop>
    <source src="happy.mp3" type="audio/mpeg">
  </audio>

  <!-- GSAP -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>
  <script>
    // Hiá»‡u á»©ng text theo thá»© tá»±
    const scenes = document.querySelectorAll('.scene');
    let timeline = gsap.timeline({ repeat: 0 });

    scenes.forEach((scene, i) => {
      if (i < scenes.length - 1) {
        timeline.to(scene, {
          duration: 1,
          opacity: 1,
          scale: 1.2,
          rotationY: 360,
          ease: "back.out(1.7)"
        });
        timeline.to(scene, {
          duration: 0.8,
          opacity: 0,
          scale: 0.5,
          delay: 0.8
        });
      }
    });

    // Cáº£nh cuá»‘i giá»¯ láº¡i
    timeline.to("#scene8", {
      opacity: 1,
      scale: 1.1,
      duration: 1.5,
      rotationX: 360,
      ease: "elastic.out(1, 0.5)"
    });

    // Background chá»¯ + icon bay
    const canvas = document.getElementById("bg");
    const ctx = canvas.getContext("2d");
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;

    const messages = [
      "ğŸ‰ Happy Birthday ğŸ’–", "ğŸ You are amazing ğŸŒŸ", "ğŸ‚ Love you ğŸ’•",
      "ğŸˆ My sunshine ğŸŒ", "ğŸ’ Forever ğŸ’", "ğŸŠ Best wishes ğŸ‰"
    ];

    class FloatingText {
      constructor() {
        this.text = messages[Math.floor(Math.random() * messages.length)];
        this.x = Math.random() * canvas.width;
        this.y = canvas.height + 50;
        this.speed = 1 + Math.random() * 2;
        this.size = 20 + Math.random() * 25;
        this.color = "rgba(255,182,193,0.9)";
      }
      draw() {
        ctx.font = this.size + "px Pacifico, cursive";
        ctx.fillStyle = this.color;
        ctx.fillText(this.text, this.x, this.y);
      }
      update() {
        this.y -= this.speed;
        if (this.y < -50) {
          this.y = canvas.height + 50;
          this.x = Math.random() * canvas.width;
          this.text = messages[Math.floor(Math.random() * messages.length)];
        }
        this.draw();
      }
    }

    const texts = [];
    for (let i = 0; i < 25; i++) {
      texts.push(new FloatingText());
    }

    function animate() {
      ctx.clearRect(0, 0, canvas.width, canvas.height);
      texts.forEach(t => t.update());
      requestAnimationFrame(animate);
    }
    animate();

    window.addEventListener("resize", () => {
      canvas.width = window.innerWidth;
      canvas.height = window.innerHeight;
    });

    // ğŸŠ Confetti hiá»‡u á»©ng rÆ¡i
    function createConfetti() {
      const confetti = document.createElement("div");
      confetti.classList.add("confetti");
      document.body.appendChild(confetti);

      confetti.style.left = Math.random() * window.innerWidth + "px";
      confetti.style.backgroundColor = `hsl(${Math.random() * 360}, 100%, 50%)`;
      confetti.style.animationDuration = 3 + Math.random() * 2 + "s";
      confetti.style.opacity = Math.random();

      setTimeout(() => {
        confetti.remove();
      }, 5000);
    }

    setInterval(createConfetti, 150);
  </script>
</body>
</html>
